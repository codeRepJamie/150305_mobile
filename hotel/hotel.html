<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">
    <title>无标题文档</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/hotel.css">
    <script type="text/javascript" src="../scripts/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="../scripts/custom.modernizr.js"></script>
    <script type="text/javascript" src="../scripts/jquery.event.special.fastclick.js"></script>
    <script type="text/javascript" src="../scripts/iscroll-probe.js"></script>
    <script type="text/javascript" src="../scripts/jquery.plugins.js"></script>
    <script type="text/javascript" src="../scripts/CommonJs.js"></script>
    <script type="text/javascript" src="../scripts/HotelJs.js"></script>
</head>

<body>
<div id="header" class="HeaderView">
    <h1>国内/海外酒店</h1>
    <i class="ReturnIco"></i>
</div>
<article id="mainContent" class="mainContent">
    <ul class="t HotelList01">
        <li class="tabRow">
            <p id="cityList" data-rel="city_list" class="HotelInput InputArrow">
                <em class="f1"></em>
                <input id="hiddenCityVal" type="hidden" value=""/>
            </p>

            <p class="w10"></p>

            <div id="getLocation" class="GetLocation">
                <span>我的位置</span>
            </div>
        </li>
        <li class="tabRow">
            <p id="datepicker" data-rel="datePicker" class="HotelInput InputArrow">
                <em class="f1"></em>
                <em class="f2"></em>
                <b class="js_days"></b>
            </p>
            <input id="hiddenStartDayVal" type="hidden" value=""/>
            <input id="hiddenInDayVal" type="hidden" value=""/>
        </li>
        <li>
            <p class="HotelInput InputResult">
                <input class="f1 tag" type="text" placeholder="关键字/品牌/酒店名" value=""/>
                <span class="clearInput"></span>

            </p>
        </li>
        <li>
            <p id="js_hotel_filter" data-rel="filter" class="HotelInput InputArrow PopButton">
                <em id="js_hotel_filter_text" class="f3 tag">星级/价格</em>
                <input id="js_hotel_filter_hidden" type="hidden" value=""/>
                <span></span>
            </p>
        </li>
        <li>
            <button class="submit01">查询</button>
        </li>
    </ul>
</article>

<div data-rel="detail_policy" class="hotel_detail_policy detail_pop_wrap">
    <article id="js_contentWrapPolicy" class="p10 word-break">
        <p>入住时间：12:00以后 离店时间：14:00以前如退房时间在14：00-18：00之间需要按照所住房型的基础价格收取半天房费</p>

        <h3 class="mt10"><strong>膳食安排：</strong></h3>

        <p>自助早餐 RMB 108</p>

        <h3 class="mt10"><strong>宠物：</strong></h3>

        <p>不可携带宠物。</p>
    </article>
</div>

<div id="BoxContent" data-rel="filter" class="hotel_filter_hotel filter_pop_wrap">
    <ul class="header">
        <li class="btn_cancel"><a href="javascript:;">取消</a></li>
        <li class="btn_reset"><a id="btn_reset" class="disable" href="javascript:;">清空筛选</a></li>
        <li class="btn_confirm"><a class="" href="javascript:;">确定</a></li>
    </ul>
    <div class="wrapper">
        <div class="BoxContent pop_star has-mask-image">
            <div class="scroll">
                <dl class="layout selectCont quaSelect">
                    <dt>价格</dt>
                    <dd data-key="not-set" data-index="0" class="CurrentSelect notSet">不限</dd>
                    <dd data-key="0,149" data-index="1">&yen;150以下</dd>
                    <dd data-key="150,300" data-index="2">&yen;150-&yen;300</dd>
                    <dd data-key="301,450" data-index="3">&yen;301-&yen;450</dd>
                    <dd data-key="301,450" data-index="4">&yen;301-&yen;450</dd>
                    <dd data-key="451,600" data-index="5">&yen;451-&yen;600</dd>
                    <dd data-key="601,1000" data-index="6">&yen;601-&yen;1000</dd>
                    <dd data-key="1000" data-index="7">&yen;1000以上</dd>
                    <input id="priceRange" type="hidden" value="not-set"/>
                </dl>
                <dl class="layout selectCont triSelect">
                    <dt>星级</dt>
                    <dd data-key="not-set" data-index="0" class="CurrentSelect notSet">不限</dd>
                    <dd data-key="快捷连锁" data-index="1">快捷连锁</dd>
                    <dd data-key="二星级及以下/经济" data-index="2">二星级及以下/经济</dd>
                    <dd data-key="三星级/舒适" data-index="3">三星级/舒适</dd>
                    <dd data-key="四星级/高档" data-index="4">四星级/高档</dd>
                    <dd data-key="五星级/豪华" data-index="5">五星级/豪华</dd>
                    <input id="classify" type="hidden" value="not-set"/>
                </dl>
            </div>
        </div>
    </div>
</div>
<div id="cityListCont" data-rel="city_list" class="city_name_list detail_pop_wrap">
    <article class="">
        <ul id="js_tmp_city_mainList_inland_mark" class="cui-city-itmes">
            <!--<li class="js_current_city"><span class="cui-city-t">当前</span>
                <ul id="TAG_without" class="list-city-tags">
                    <li class="current" data-mark="pos_around" data-value="">我的所在城市</li>
                    <li data-id="js_postion" data-cityname="" data-mark="pos_city" class="hidden"
                        style="display: none;"></li>
                </ul>
            </li>-->
            <li id="jsHistoryCityList" class="js_simple_city js_history_city"><span class="cui-city-t">历史选择</span>
                <ul class="list-city-tags">
                    <!--<li data-path="historyCities.0" data-cityid="2" data-citytype="1" data-mark="city">上海</li>
                    <li data-path="historyCities.1" data-cityid="32" data-citytype="1" data-mark="city">广州</li>
                    <li data-path="historyCities.2" data-cityid="1" data-citytype="1" data-mark="city">北京</li>-->
                </ul>
            </li>
            <li class="js_simple_city js_hot_city"><span class="cui-city-t">热门城市</span>
                <ul id="listCityTags" class="list-city-tags">
                    <li data-path="hotCities.0"  data-mark="city" data-value="北京">北京</li>
                    <li data-path="hotCities.1"  data-mark="city" data-value="上海">上海</li>
                    <li data-path="hotCities.2"  data-mark="city" data-value="广州">广州</li>
                    <li data-path="hotCities.3"  data-mark="city" data-value="深圳">深圳</li>
                    <li data-path="hotCities.4"  data-mark="city" data-value="成都">成都</li>
                    <li data-path="hotCities.5"  data-mark="city" data-value="杭州">杭州</li>
                    <li data-path="hotCities.6"  data-mark="city" data-value="武汉">武汉</li>
                    <li data-path="hotCities.7"  data-mark="city" data-value="西安">西安</li>
                    <li data-path="hotCities.8"  data-mark="city" data-value="重庆">重庆</li>
                    <li data-path="hotCities.9"  data-mark="city" data-value="青岛">青岛</li>
                    <li data-path="hotCities.10" data-mark="city" data-value="南京">南京</li>
                    <li data-path="hotCities.11" data-mark="city" data-value="厦门">厦门</li>
                    <li data-path="hotCities.12" data-mark="city" data-value="大连">大连</li>
                    <li data-path="hotCities.13" data-mark="city" data-value="天津">天津</li>
                    <li data-path="hotCities.14" data-mark="city" data-value="三亚">三亚</li>
                    <li data-path="hotCities.15" data-mark="city" data-value="济南">济南</li>
                    <li data-path="hotCities.16" data-mark="city" data-value="台北">台北</li>
                    <li data-path="hotCities.17" data-mark="city" data-value="香港">香港</li>
                    <li data-path="hotCities.18" data-mark="city" data-value="沈阳">沈阳</li>
                    <li data-path="hotCities.19" data-mark="city" data-value="苏州">苏州</li>
                </ul>
            </li>
        </ul>
    </article>
</div>

<div id="datePickerCont" data-rel="datePicker" class="datePicker_hotel filter_pop_wrap">
    <div class="wrapper">
        <div class="hotel-lc-items hotel-b-border"><!--入住日期-->
            <div class="hotel-lc-mod">
                <div class="lc-itme hotel-lc-checked hotel-arr hotel-b-border js_inday_btn"><span
                        class="lc-txt js_inday_main_title">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="fr fn12"><time
                        class="js_inday_sub_title">&nbsp;&nbsp;&nbsp;&nbsp;
                </time><strong>&nbsp;入住</strong></span></div>

                <!--前一天、后一天控件-->
                <div class=" js_index_pre_next_box">
                    <div class="cui-view" id="cui-1427184493629">
                        <ul class="hotel-numitmes">
                            <li data-id="pre" data-index="0" class="js-hui-tab-btn  disabled">
                                前一天
                            </li>
                            <li data-id="next" data-index="1" class="js-hui-tab-btn">
                                后一天
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!--住几晚-->
            <div class="lc-itme hotel-search-page"><span class="lc-txt js_outday_main_title">住1晚</span><span
                    class="lc-nightnum fn12"><time class="js_outday_sub_title">&nbsp;&nbsp;&nbsp;&nbsp;</time><strong>
                &nbsp;离店</strong></span><!--晚数控件-->
                <div class="lc-num js_outday_contr">
                    <div class="cui-view"><span data-min="1" data-bind="js_room_num_1" class="hotel-day NumberInput">
            <i class="add"></i>
            <input type="tel" class="inputText" value="1" disabled="disabled">
            <i class="minus"></i>
          </span>

                    </div>
                </div>
            </div>
        </div>
        <!--确定-->
        <div class="hotel-lc-date-btn">
            <button id="confirm" class="g_btn_s js_submit">确定</button>
        </div>
    </div>
</div>

    <!--<div id="js_locating"  class="cui-grayload-text laodingAlert">
        <div class="cui-i cui-w-loading"></div>
        <div class="cui-i cui-m-logo"></div>
        <div class="cui-grayload-close" id="js_locating_close"></div>
        <div class="cui-grayload-bfont">定位中...</div>
    </div>-->

<script>
    $(function () {
        (function () {
            $('.HotelInput').inputText({
                isArrow: true
            });
        })();

        (function(){
            var cityPopOptions={
                title: '选择城市'
            };
            $('#cityListCont').selectCityInitail({
                trigger:$('#cityList'),
                defaultCity:'我的所在城市',
                defaultValue:'广州',
                title: '选择城市'
            });
            //$('#cityList').detailPop(cityPopOptions);
            $('#getLocation').bind('fastclick', function () {
                $.loadingFadeIn({
                    text: '定位中',
                    closeCallback:function(){
                        clearInterval(itv);
                    }
                });
                window.alertWarn=function(){
                    $.dialogAlert({
                        text: '定位失败，您可以通过在设置中开启定位服务，开启WIFI，以提高定位成功率；或选择城市查询',
                        confirmText: '选择城市',
                        cancelText: '知道了',
                        onConfirm:function(btn){
                            $.detailPopShow('city_list');
                        }
                    })
                };
                var itv=setTimeout("$.loadingFadeOut(alertWarn)",3000);
            });
        })();

        (function () {
            var js_hotel_filter = $('#js_hotel_filter');
            $('#BoxContent').boxContentInital({
                //指定触发器
                trigger: js_hotel_filter,
                //确认按钮回调函数
                confirmCallback: function (elem, aValus) {
                    var text = '';
                    var val = [];
                    for (var i = 0; i < aValus.length; i++) {
                        text += aValus[i].valueText + (i === aValus.length - 1 ? '' : '/');
                        val.push('[' + aValus[i].value + ']');
                    }
                    if (/new/.test(js_hotel_filter.attr('class'))) {
                        $('#js_hotel_filter_text').text(text);
                    } else {
                        $('#js_hotel_filter_text').text('星级/价格');
                    }
                    $('#js_hotel_filter_hidden').text(val.join(','));
                }
            });
            js_hotel_filter.displayWrap({
                callback: function (state, wrap) {
                    wrap && $(wrap).refresh();
                }
            });
        })();
        (function () {
            var datePicker = $('#datepicker');

            $('#datePickerCont').datePickerInital({
                trigger: datePicker,
                maxDate: 7,
                startDate: new Date(),
                initialCallback: function (trigger, time) {
                    showDate(trigger, time);
                },
                confirmCallback: function (elem, trigger, time) {
                    showDate(trigger, time);
                }
            });
            function showDate(trigger, time) {
                trigger.find('.f1').text(time.printDate(time.startDate, true));
                trigger.find('.f2').text('(' + time.printDay(time.startDate) + ')');
                trigger.find('.js_days').text('入住' + time.inDay + '晚');
                $('#hiddenStartDayVal').val(time.startDate.getFullYear() + '-' + (time.startDate.getMonth() + 1) + '-' + time.startDate.getDate());
                $('#hiddenInDayVal').val(time.inDay);
            }

            datePicker.displayWrap({
                callback: function (state, wrap) {
                    wrap && $(wrap).refresh();
                }
            });
        })();



    });

</script>
</body>
</html>
