<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>全站搜索-广之旅无线官网</title>
    <link rel="stylesheet" href="../css/main.css">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">
    <script type="text/javascript" src="../scripts/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="../scripts/custom.modernizr.js"></script>
    <script type="text/javascript" src="../scripts/jquery.event.special.fastclick.js"></script>
    <script type="text/javascript" src="../scripts/jquery.plugins.js"></script>
    <script type="text/javascript" src="../scripts/CommonJs.js"></script>
    <!-- 注意请按照每个页面引用的js/css文件会有所不同 -->
</head>
<body>
<div data-role="page" class="page">
    <div id="header" class="HeaderView">
        <h1>全站搜索</h1>
        <i class="ReturnIco"></i>
    </div>

    <!--
        <p class="destionation_history" style="">
            <a href="javascript:;">香港</a>
            <a href="javascript:;">香港</a>
            <a href="javascript:;">香港</a>
            <a href="javascript:;">香港</a>
        </p>
    -->
    <div id="mainContent" class="mainContent">
        <div id="js-list-pannel-content" class="dest_quick">
            <div class="left_column">
                <div class="dest_left">
                    <ul>
                        <li class="current">跟团旅游</li>
                        <li>酒店预订</li>
                        <!-- <li>机票预订</li>
                         <li>景点门票</li>
                         <li>签证办理</li>-->
                        <!-- <li>邮轮度假</li>-->
                    </ul>
                </div>
            </div>
            <div class="right_column">
                <ul class="booking_modify">
                    <li class="db InputArrow">
                        <label class="BookingLabel help">出发城市</label>
                        <ul class="person-in-items">
                            <li class="mod_hd">
                                <div data-rel="detail_insurance"
                                     class="js-detail-insurance BookingInput InputBox InputResult inputText">
                                    <label class="BookingLabel help">广州</label>
                                    <input class="js-insurance-info" value="1" type="hidden">
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li class="db">
                        <label class="BookingLabel help">关键字</label>
                        <ul class="person-in-items">
                            <li>
                                <div class="BookingInput InputBox InputResult inputText">
                                    <input class="person-name" type="text" placeholder="线路名称">
                                    <a class="clearInput"><span></span></a>
                                </div>
                            </li>
                        </ul>
                    </li>

                    <li class="tabRow db InputArrow">
                        <p data-rel="datePicker" class="datepicke">
                            <em class="f1">8月24日</em>
                            <em class="f2">(周一)</em>
                            <b class="js_days">游3日</b>
                        </p>
                        <!--<input id="hiddenStartDayVal" type="hidden" value=""/>
                        <input id="hiddenInDayVal" type="hidden" value=""/>-->
                    </li>

                    <li class="db InputArrow">
                        <label class="BookingLabel help">价格范围</label>

                        <p>1000-2000</p>
                    </li>
                </ul>
                <!-- 注意请不要直接使用onclick或href属性绑定事件，弹出会发生“点透bug”，请使用fastclick绑定dom事件 -->
                <span class="btn_link js_to_payment mod_foot_active">搜索线路</span>
            </div>
            <div class="right_column current">
                <ul class="booking_modify">
                    <li id="js-detail-address" data-rel="detail_address" class="db InputArrow">
                        <label class="BookingLabel help">目的地</label>
                        <ul class="person-in-items">
                            <li class="mod_hd">
                                <div data-rel="detail_insurance"
                                     class="js-detail-insurance BookingInput InputBox InputResult inputText">
                                    <label class="BookingLabel help">广州</label>
                                    <input class="js-insurance-info" value="1" type="hidden">
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li id="datepicker" data-rel="datePicker" class=" db tabRow InputArrow">
                        <p class="datepicker">
                            <em class="f1"></em>
                            <em class="f2"></em>
                            <b class="js_days"></b>
                        </p>
                        <input id="hiddenStartDayVal" type="hidden" value=""/>
                        <input id="hiddenEndDayVal" type="hidden" value=""/>
                        <input id="hiddenInDayVal" type="hidden" value=""/>
                    </li>

                    <li id="js_hotel_filter" class="db InputArrow" data-rel="filter">
                        <label class="BookingLabel help">星级价格</label>

                        <p id="js_hotel_filter_text">不限</p>
                        <input id="js_hotel_filter_hidden" type="hidden"/>
                    </li>

                    <li class="db">
                        <label class="BookingLabel help">关键词2</label>

                        <div class="BookingInput InputBox InputResult inputText">
                            <input class="person-name" type="text" placeholder="酒店名称">
                            <a class="clearInput"><span></span></a>
                        </div>
                    </li>
                </ul>
                <!-- 注意请不要直接使用onclick或href属性绑定事件，弹出会发生“点透bug”，请使用fastclick绑定dom事件 -->
                <span class="btn_link js_to_payment mod_foot_active">搜索酒店</span>
            </div>
        </div>
    </div>
</div>


<div id="datePickerCont" data-rel="datePicker" class="datePicker_hotel filter_pop_wrap">
    <div class="wrapper">
        <div class="hotel-lc-items hotel-b-border"><!--入住日期-->
            <div class="hotel-lc-mod">
                <div class="lc-itme hotel-lc-checked hotel-arr hotel-b-border js_inday_btn"><span
                        class="lc-txt js_inday_main_title">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="fr fn12"><time
                        class="js_inday_sub_title">&nbsp;&nbsp;&nbsp;&nbsp;
                </time><strong>&nbsp;入住</strong></span></div>

                <!--前一天、后一天控件-->
                <div class=" js_index_pre_next_box">
                    <div class="cui-view" id="cui-1427184493629">
                        <ul class="hotel-numitmes">
                            <li data-id="pre" data-index="0" class="js-hui-tab-btn  disabled">
                                前一天
                            </li>
                            <li data-id="next" data-index="1" class="js-hui-tab-btn">
                                后一天
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!--住几晚-->
            <div class="lc-itme hotel-search-page"><span class="lc-txt js_outday_main_title">住1晚</span><span
                    class="lc-nightnum fn12"><time class="js_outday_sub_title">&nbsp;&nbsp;&nbsp;&nbsp;</time><strong>
                &nbsp;离店</strong></span><!--晚数控件-->
                <div class="lc-num js_outday_contr">
                    <div class="cui-view"><span data-min="1" data-bind="js_room_num_1" class="hotel-day NumberInput">
            <i class="add"></i>
            <input type="tel" class="inputText" value="1" disabled="disabled">
            <i class="minus"></i>
          </span>

                    </div>
                </div>
            </div>
        </div>
        <!--确定-->
        <div class="hotel-lc-date-btn">
            <button id="confirm" class="g_btn_s js_submit">确定</button>
        </div>
    </div>
</div>

<div id="BoxContent" data-rel="filter" class="hotel_filter_hotel filter_pop_wrap">
    <ul class="header">
        <li class="btn_cancel"><a href="javascript:;">取消</a></li>
        <li class="btn_reset"><a id="btn_reset" class="disable" href="javascript:;">清空筛选</a></li>
        <li class="btn_confirm"><a class="" href="javascript:;">确定</a></li>
    </ul>
    <div class="wrapper">
        <div class="BoxContent pop_star has-mask-image">
            <div class="scroll">
                <dl class="layout selectCont quaSelect">
                    <dt>星级酒店</dt>
                    <dd data-key="not-set" data-index="0" class="CurrentSelect notSet">不限</dd>
                    <dd data-key="1.0" data-index="1">一星级</dd>
                    <dd data-key="5.5" data-index="2">超豪华</dd>
                    <dd data-key="2.0" data-index="3">二星级</dd>
                    <dd data-key="3.0" data-index="4">三星级</dd>
                    <dd data-key="4.0" data-index="5">四星级</dd>
                    <input id="classify" type="hidden" value="not-set"/>
                </dl>
            </div>
        </div>
    </div>
</div>

<div data-rel="detail_address" class="address_detail_identity detail_pop_wrap"><!-- TODO address List -->
    <article class="cui-city-box hotel-city-box">
        <div class="fixed-wrap">
            <div class="fixedCont">
                <section id="js_searchBox" class="cui-cities-hd cui-input-focus">
                    <div class="cui-input-bd">
                        <input class="cui-input-box" placeholder="全球城市/区域/位置/酒店名">
                    </div>
                </section>
                <div id="js_tab" class="tab-city">
                    <div class="view" id="ui-view-18">
                        <ul class="cui-tab-mod">
                            <li data-key="1" data-index="0" class="cui-tab-current">国内城市</li>
                            <li data-key="2" data-index="1" class="">海外城市</li>
                            <i class="cui-tab-scrollbar cui-tabnum2"></i></ul>
                    </div>

                </div>
            </div>
        </div>
        <ul class="cui-city-itmes">
            <li class="js_current_city">
                <span class="cui-city-t">当前</span>
                <ul class="hotel-city-tags">
                    <li class="current">我的位置</li>
                    <li class="hidden"></li>
                </ul>
            </li>
            <li class="js_simple_city js_hot_city">
                <span class="cui-city-t">热门城市</span>
                <ul class="hotel-city-tags">
                    <li>北京</li>
                    <li>上海</li>
                    <li>广州</li>
                    <li>深圳</li>
                    <li>成都</li>
                    <li>杭州</li>
                    <li class="hidden"></li>
                </ul>
            </li>
            <li class="js_simple_city js_char_city cui-arrow-close" data-key="a">
                <span class="cui-city-t js_cat_btn">A</span>
                <ul class="cui-city-n">
                    <li>阿巴嘎旗(锡林郭勒盟)</li>
                    <li>阿坝县(阿坝)</li>
                </ul>
            </li>
            <li class="js_simple_city js_char_city cui-arrow-close" data-key="b">
                <span class="cui-city-t js_cat_btn">B</span>
                <ul class="cui-city-n">
                    <li>阿巴嘎旗(锡林郭勒盟)</li>
                    <li>阿坝县(阿坝)</li>
                </ul>
            </li>
        </ul>
            <ul class="js_sidenav_wrap hotel-tags-cut">
                <li data-key="cur" data-value="当前">
                </li>
                <li data-key="hot" data-value="热门"></li>

                <li data-key="a" data-value="A">
                    <span class="tags" data-value="A"></span>
                </li>

                <li data-key="b" data-value="B">
                    <span class="tags" data-value="B"></span>
                </li>

                <li data-key="c" data-value="C">
                    <span class="tags" data-value="C"></span>
                </li>

                <li data-key="d" data-value="D">
                    <span class="tags" data-value="D"></span>
                </li>

                <li data-key="e" data-value="E">
                    <span class="tags" data-value="E"></span>
                </li>

                <li data-key="f" data-value="F">
                    <span class="tags" data-value="F"></span>
                </li>

                <li data-key="g" data-value="G">
                    <span class="tags" data-value="G"></span>
                </li>

                <li data-key="h" data-value="H">
                    <span class="tags" data-value="H"></span>
                </li>

                <li data-key="j" data-value="J">
                    <span class="tags" data-value="J"></span>
                </li>

                <li data-key="k" data-value="K">
                    <span class="tags" data-value="K"></span>
                </li>

                <li data-key="l" data-value="L">
                    <span class="tags" data-value="L"></span>
                </li>

                <li data-key="m" data-value="M">
                    <span class="tags" data-value="M"></span>
                </li>

                <li data-key="n" data-value="N">
                    <span class="tags" data-value="N"></span>
                </li>

                <li data-key="p" data-value="P">
                    <span class="tags" data-value="P"></span>
                </li>

                <li data-key="q" data-value="Q">
                    <span class="tags" data-value="Q"></span>
                </li>

                <li data-key="r" data-value="R">
                    <span class="tags" data-value="R"></span>
                </li>

                <li data-key="s" data-value="S">
                    <span class="tags" data-value="S"></span>
                </li>

                <li data-key="t" data-value="T">
                    <span class="tags" data-value="T"></span>
                </li>

                <li data-key="w" data-value="W">
                    <span class="tags" data-value="W"></span>
                </li>

                <li data-key="x" data-value="X">
                    <span class="tags" data-value="X"></span>
                </li>

                <li data-key="y" data-value="Y">
                    <span class="tags" data-value="Y"></span>
                </li>

                <li data-key="z" data-value="Z">
                    <span class="tags" data-value="Z"></span>
                </li>

            </ul>

    </article>
</div>

<script>

    $(function () {
        //输入框清空按钮
        (function () {
            $('.InputResult').inputText();
        })();

        //搜索类别选项
        (function () {
            $('#js-list-pannel-content').listPannel({
                selectItemsCallback: function (handler) {
                    //handler.selectItems(1);
                }
            });

        })();

        //酒店日期选择
        (function () {
            var datePicker = $('#datepicker');
            $('#datePickerCont').datePickerInital({
                trigger: datePicker,
                maxDate: 7,//只能查询7日以内
                startDate: new Date(),
                initialCallback: function (trigger, time) {
                    showDate(trigger, time);
                },
                confirmCallback: function (elem, trigger, time) {
                    showDate(trigger, time);
                }
            });
            function showDate(trigger, time) {
                trigger.find('.f1').text(time.printDate(time.startDate, true));
                trigger.find('.f2').text('(' + time.printDay(time.startDate) + ')');
                trigger.find('.js_days').text('入住' + time.inDay + '晚');
                $('#hiddenStartDayVal').val(time.startDate.getFullYear() + '-' + (time.startDate.getMonth() + 1) + '-' + time.startDate.getDate());
                $('#hiddenEndDayVal').val(time.departDate.getFullYear() + '-' + (time.departDate.getMonth() + 1) + '-' + time.departDate.getDate());
                $('#hiddenInDayVal').val(time.inDay);
            }

            datePicker.displayWrap({
                callback: function (state, wrap) {
                    wrap && $(wrap).refresh();
                }
            });

        })();
        //酒店星级&价格
        (function () {
            var js_hotel_filter = $('#js_hotel_filter');
            $('#BoxContent').boxContentInital({
                //指定触发器
                trigger: js_hotel_filter,
                //确认按钮回调函数
                confirmCallback: function (elem, aValus, handle) {
                    //aValus[0]['value'] 选中的值
                    //aValus[0]['valueText'] 选中的值对应文本
                    //handle.selectedElem 选中选项的dom
                    if (/new/.test(js_hotel_filter.attr('class'))) {
                        $('#js_hotel_filter_text').text(aValus[0]['valueText']);
                    } else {
                        $('#js_hotel_filter_text').text('不限');
                    }
                    $('#js_hotel_filter_hidden').val(aValus[0]['value']);
                }
            });
            js_hotel_filter.displayWrap({
                callback: function (state, wrap) {
                    wrap && $(wrap).refresh();
                }
            });
        })();

        //酒店选择出发地
        (function () {
            var tab = $('#js_tab');
            var tabList = tab.find('.cui-tab-mod li');
            $('#js-detail-address').detailPop({
                title: '选择目的地',
                isButton: false,
                openCallback: function () {
                    tab.listPannel({
                        triggerClassName: 'cui-tab-mod',
                        currentTriggerClassName: 'cui-tab-current',
                        initialCallback: function () {
                            $(this).find('.cui-tab-scrollbar').width(tabList.eq(0).outerWidth());
                        }
                    })
                }
            });
            //console.log(tabList.eq(0).outerWidth());
        })()

    });
</script>
</body>
</html>